{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43967395-ba8c6739f73e8322e41736fdd';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n      const response = await fetch(url);\n      if (!response.ok) {\n          throw new Error('Network response was not ok');\n      }\n      const data = await response.json();\n      return data.hits;\n  } catch (error) {\n      console.error('Fetch error:', error);\n      throw error;\n  }\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet lightbox;\n\nexport function renderImages(images) {\n    const gallery = document.querySelector(`.gallery`);\n    gallery.innerHTML = images.map(image => createImageCard(image)).join(``);\n    refreshLightbox();\n}\n\nfunction createImageCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n    return `\n        <div class=\"photo-card\">\n            <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                <img \n                  width=\"360px\";\n                  height=\"200px\";\n                  src=\"${webformatURL}\" \n                  alt=\"${tags}\" loading=\"lazy\" />\n            </a>\n            <div class=\"info\">\n                <p class=\"info-item\"><b>Likes:</b> ${likes}</p>\n                <p class=\"info-item\"><b>Views:</b> ${views}</p>\n                <p class=\"info-item\"><b>Comments:</b> ${comments}</p>\n                <p class=\"info-item\"><b>Downloads:</b> ${downloads}</p>\n            </div>\n        </div>\n    `;\n}\n\nexport function showNotification(message, type = `info`) {\n    iziToast[type]({\n        message: message,\n        position: `topRight`,\n        padding: `20px`,\n        backgroundColor: `#EF4040`,\n    });\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector(`.gallery`);\n    gallery.innerHTML = ``;\n}\n\nexport function initLightbox() {\n    lightbox = new SimpleLightbox(`.gallery a`, {\n        captionsData: `alt`,\n        captionDelay: 250,\n    });\n}\n\nfunction refreshLightbox() {\n    if (lightbox) {\n        lightbox.refresh();\n    }\n}\n\nexport function showLoader() {\n    document.querySelector(`.loader`).classList.remove(`hidden`);\n}\n\nexport function hideLoader() {\n    document.querySelector(`.loader`).classList.add(`hidden`);\n}\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n    initLightbox();\n  });","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, showNotification, clearGallery, initLightbox, showLoader, hideLoader } from './js/render-functions.js';\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n    const form = document.querySelector(`.search-form`);\n    form.addEventListener(`submit`, onSearch);\n\n    initLightbox();\n});\n\nasync function onSearch(event) {\n    event.preventDefault();\n\n    const query = event.target.elements.searchQuery.value.trim();\n    if (!query) {\n        showNotification(`Please enter a search query!`, `warning`);\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    try {\n        const images = await fetchImages(query);\n        hideLoader();\n\n        if (images.length === 0) {\n            showNotification(`Sorry, there are no images matching your search query. Please try again!`, `warning`);\n            return;\n        }\n\n        renderImages(images);\n    } catch (error) {\n        hideLoader();\n        showNotification(`An error occurred while fetching images. Please try again!`, `error`);\n    }\n}"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","error","lightbox","renderImages","images","gallery","image","createImageCard","refreshLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showNotification","message","type","iziToast","clearGallery","initLightbox","SimpleLightbox","showLoader","hideLoader","onSearch","event"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAO,CACvC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,2DAErE,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAGjD,OADa,MAAMA,EAAS,QAChB,IACf,OAAQC,EAAO,CACZ,cAAQ,MAAM,eAAgBA,CAAK,EAC7BA,CACT,CACH,CCZA,IAAIC,EAEG,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EACvEE,GACJ,CAEA,SAASD,EAAgB,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CAC/F,MAAO;AAAA;AAAA,uBAEYL,CAAa;AAAA;AAAA;AAAA;AAAA,yBAIXD,CAAY;AAAA,yBACZE,CAAI;AAAA;AAAA;AAAA,qDAGwBC,CAAK;AAAA,qDACLC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA;AAAA,KAIlE,CAEO,SAASC,EAAiBC,EAASC,EAAO,OAAQ,CACrDC,EAASD,CAAI,EAAE,CACX,QAASD,EACT,SAAU,WACV,QAAS,OACT,gBAAiB,SACzB,CAAK,CACL,CAEO,SAASG,GAAe,CAC3B,MAAMf,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CAEO,SAASgB,GAAe,CAC3BnB,EAAW,IAAIoB,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GACtB,CAAK,CACL,CAEA,SAASd,GAAkB,CACnBN,GACAA,EAAS,QAAO,CAExB,CAEO,SAASqB,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC/D,CAEO,SAASC,GAAa,CACzB,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC5D,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAChDH,GACJ,CAAG,ECnEH,SAAS,iBAAiB,mBAAoB,IAAM,CACnC,SAAS,cAAc,cAAc,EAC7C,iBAAiB,SAAUI,CAAQ,EAExCJ,GACJ,CAAC,EAED,eAAeI,EAASC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAM5B,EAAQ4B,EAAM,OAAO,SAAS,YAAY,MAAM,OACtD,GAAI,CAAC5B,EAAO,CACRkB,EAAiB,+BAAgC,SAAS,EAC1D,MACH,CAEDI,IACAG,IAEA,GAAI,CACA,MAAMnB,EAAS,MAAMP,EAAYC,CAAK,EAGtC,GAFA0B,IAEIpB,EAAO,SAAW,EAAG,CACrBY,EAAiB,2EAA4E,SAAS,EACtG,MACH,CAEDb,EAAaC,CAAM,CACtB,MAAe,CACZoB,IACAR,EAAiB,6DAA8D,OAAO,CACzF,CACL"}